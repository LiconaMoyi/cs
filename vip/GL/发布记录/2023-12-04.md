#### 发布内容

#### DDL

```sql
Create Table `gl_currency`
(
 `id` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '表ID',
 `currency_code` VARCHAR(15) NOT NULL DEFAULT '' COMMENT '币种',
 `currency_name` VARCHAR(30) NOT NULL DEFAULT '' COMMENT '币种名称',
 `enabled_flag` VARCHAR(1) NOT NULL DEFAULT '' COMMENT '启用标记',
 `currency_flag` VARCHAR(1) NOT NULL DEFAULT '' COMMENT '币种标记',
 `description` VARCHAR(240) NOT NULL DEFAULT '' COMMENT '说明',
 `issuing_territory_code` VARCHAR(20) NOT NULL DEFAULT '' COMMENT '发行的国家或区域',
 `base_precision` TINYINT NOT NULL DEFAULT 0 COMMENT '精度',
 `extended_precision` TINYINT NOT NULL DEFAULT 0 COMMENT '扩展精度',
 `symbol` VARCHAR(12) NOT NULL DEFAULT '' COMMENT '货币符号',
 `start_date_active` DATETIME NOT NULL DEFAULT '1970-01-02 00:00:00' COMMENT '有效开始日期',
 `end_date_active` DATETIME NOT NULL DEFAULT '1970-01-02 00:00:00' COMMENT '有效截止日期',
 `iso_flag` VARCHAR(1) NOT NULL DEFAULT '' COMMENT 'ISO4217中定义标记',
 `comments` VARCHAR(240) NOT NULL DEFAULT '' COMMENT '备注',
 `version_number` INT NOT NULL DEFAULT 0 COMMENT '版本号',
 `create_time` TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3) COMMENT '创建日期',
 `created_by` VARCHAR(50) NOT NULL DEFAULT '' COMMENT '创建人',
 `update_time` TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3) COMMENT '更新日期',
 `updated_by` VARCHAR(50) NOT NULL DEFAULT '' COMMENT '更新人',
 `is_deleted` TINYINT(1) NOT NULL DEFAULT 0 COMMENT '软删除标识',
 PRIMARY KEY (`id`),
 UNIQUE `uniq_currency_code`(`currency_code`),
 KEY `idx_update_time`(`update_time`)
)
DEFAULT CHARACTER SET = utf8
COMMENT = '币种';



Create Table `gl_currency_rel`
(
 `id` BIGINT UNSIGNED AUTO_INCREMENT COMMENT '表ID',
 `from_currency` VARCHAR(10) DEFAULT '' COMMENT '来源币种',
 `to_currency` VARCHAR(10) DEFAULT '' COMMENT '目标币种',
 `version_number` INT DEFAULT 0 COMMENT '版本号',
 `create_time` TIMESTAMP(3) DEFAULT CURRENT_TIMESTAMP(3) COMMENT '创建日期',
 `created_by` VARCHAR(50) DEFAULT '' COMMENT '创建人',
 `update_time` TIMESTAMP(3) DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3) COMMENT '更新日期',
 `updated_by` VARCHAR(50) DEFAULT '' COMMENT '更新人',
 `is_deleted` TINYINT(1) DEFAULT 0 COMMENT '软删除标识',
 PRIMARY KEY (`id`),
 UNIQUE `uniq_from_currency`(`from_currency`,`to_currency`),
 KEY `idx_update_time`(`update_time`),
 KEY `idx_from_currency`(`from_currency`,`to_currency`)
)
DEFAULT CHARACTER SET = utf8
COMMENT = '币种关系表';


Create Table `gl_req_currency_rate`
(
 `id` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '表ID',
 `file_path` VARCHAR(255) NOT NULL DEFAULT '' COMMENT '文件路径',
 `file_name` VARCHAR(255) NOT NULL DEFAULT '' COMMENT '文件名',
 `operator` VARCHAR(50) NOT NULL DEFAULT '' COMMENT '操作人',
 `operator_time` DATETIME NOT NULL DEFAULT '1970-01-02 00:00:00' COMMENT '操作时间',
 `source` VARCHAR(30) NOT NULL DEFAULT '' COMMENT '来源',
 `step` INT NOT NULL DEFAULT 0 COMMENT '完成进度',
 `import_date_from` DATETIME NOT NULL DEFAULT '1970-01-02 00:00:00' COMMENT '有效期始',
 `import_date_to` DATETIME NOT NULL DEFAULT '1970-01-02 00:00:00' COMMENT '有效期止',
 `import_operator` VARCHAR(50) NOT NULL DEFAULT '' COMMENT '导入人',
 `import_time` DATETIME NOT NULL DEFAULT '1970-01-02 00:00:00' COMMENT '导入时间',
 `error_msg` VARCHAR(500) NOT NULL DEFAULT '' COMMENT '报错信息',
 `confirm_operator` VARCHAR(50) NOT NULL DEFAULT '' COMMENT '确认人',
 `confirm_time` DATETIME NOT NULL DEFAULT '1970-01-02 00:00:00' COMMENT '确认时间',
 `version_number` INT NOT NULL DEFAULT 0 COMMENT '版本号',
 `create_time` TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3) COMMENT '创建日期',
 `created_by` VARCHAR(50) NOT NULL DEFAULT '' COMMENT '创建人',
 `update_time` TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3) COMMENT '更新日期',
 `updated_by` VARCHAR(50) NOT NULL DEFAULT '' COMMENT '更新人',
 `is_deleted` TINYINT(1) NOT NULL DEFAULT 0 COMMENT '软删除标识',
 PRIMARY KEY (`id`),
 KEY `idx_update_time`(`update_time`)
)
DEFAULT CHARACTER SET = utf8
COMMENT = '导入汇率请求表';


Create Table `gl_int_currency_rate`
(
 `id` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '表ID',
 `req_id` BIGINT NOT NULL DEFAULT 0 COMMENT '请求编号',
 `from_currency` VARCHAR(10) NOT NULL DEFAULT '' COMMENT '来源币种',
 `to_currency` VARCHAR(10) NOT NULL DEFAULT '' COMMENT '目标币种',
 `conversion_rate` DECIMAL(30,15) NOT NULL DEFAULT 0 COMMENT '汇率',
 `version_number` INT NOT NULL DEFAULT 0 COMMENT '版本号',
 `create_time` TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3) COMMENT '创建日期',
 `created_by` VARCHAR(50) NOT NULL DEFAULT '' COMMENT '创建人',
 `update_time` TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3) COMMENT '更新日期',
 `updated_by` VARCHAR(50) NOT NULL DEFAULT '' COMMENT '更新人',
 `is_deleted` TINYINT(1) NOT NULL DEFAULT 0 COMMENT '软删除标识',
 PRIMARY KEY (`id`),
 KEY `idx_update_time`(`update_time`)
)
DEFAULT CHARACTER SET = utf8
COMMENT = '汇率中间表';

Create Table `gl_currency_rate`
(
 `id` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '表ID',
 `from_currency` VARCHAR(15) NOT NULL DEFAULT '' COMMENT '来源币种',
 `to_currency` VARCHAR(15) NOT NULL DEFAULT '' COMMENT '目标币种',
 `conversion_date` DATETIME NOT NULL DEFAULT '1970-01-02 00:00:00' COMMENT '转换日期',
 `conversion_type` VARCHAR(30) NOT NULL DEFAULT 'Coporate' COMMENT '转换类型',
 `conversion_rate` DECIMAL(30,15) NOT NULL DEFAULT 1 COMMENT '转换汇率',
 `status_code` VARCHAR(1) NOT NULL DEFAULT '' COMMENT '状态',
 `rate_source_code` VARCHAR(15) NOT NULL DEFAULT '' COMMENT '汇率来源代码',
 `comments` VARCHAR(240) NOT NULL DEFAULT '' COMMENT '备注',
 `version_number` INT NOT NULL DEFAULT 0 COMMENT '版本号',
 `create_time` TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3) COMMENT '创建日期',
 `created_by` VARCHAR(50) NOT NULL DEFAULT '' COMMENT '创建人',
 `update_time` TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3) COMMENT '更新日期',
 `updated_by` VARCHAR(50) NOT NULL DEFAULT '' COMMENT '更新人',
 `is_deleted` TINYINT(1) NOT NULL DEFAULT 0 COMMENT '软删除标识',
 PRIMARY KEY (`id`),
 UNIQUE `uniq_conversion_date`(`conversion_date`,`from_currency`,`to_currency`),
 KEY `idx_update_time`(`update_time`),
 KEY `idx_from_currency`(`from_currency`,`to_currency`)
)
DEFAULT CHARACTER SET = utf8
COMMENT = '每日汇率表';


Create Table `gl_currency_rate_diff`
(
 `id` BIGINT UNSIGNED NOT NULL AUTO_INCREMENT COMMENT '表ID',
 `from_currency` VARCHAR(15) NOT NULL DEFAULT '' COMMENT '来源币种',
 `to_currency` VARCHAR(10) NOT NULL DEFAULT '' COMMENT '目标币种',
 `conversion_date` DATETIME NOT NULL DEFAULT '1970-01-02 00:00:00' COMMENT '转换日期',
 `conversion_type` VARCHAR(30) NOT NULL DEFAULT '' COMMENT '转换类型',
 `conversion_rate` DECIMAL(30,15) NOT NULL DEFAULT 0 COMMENT '转换汇率',
 `inverse_rate` DECIMAL(30,15) NOT NULL DEFAULT 0 COMMENT '逆汇率',
 `last_day_rate` DECIMAL(30,15) NOT NULL DEFAULT 0 COMMENT '上月最后一天汇率',
 `last_day_inverse_rate` DECIMAL(30,15) DEFAULT 0 COMMENT '上月最后一天逆汇率',
 `rate_diff` DECIMAL(30,15) NOT NULL DEFAULT 0 COMMENT '汇率差异',
 `version_number` INT NOT NULL DEFAULT 0 COMMENT '版本号',
 `create_time` TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3) COMMENT '创建日期',
 `created_by` VARCHAR(50) NOT NULL DEFAULT '' COMMENT '创建人',
 `update_time` TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP(3) ON UPDATE CURRENT_TIMESTAMP(3) COMMENT '更新日期',
 `updated_by` VARCHAR(50) NOT NULL DEFAULT '' COMMENT '更新人',
 `is_deleted` TINYINT(1) NOT NULL DEFAULT 0 COMMENT '软删除标识',
 PRIMARY KEY (`id`),
 KEY `idx_update_time`(`update_time`)
)
DEFAULT CHARACTER SET = utf8
COMMENT = '汇率差异表';
```

#### 快码

| lookupType         | lookupCode               | meaning                                            |
| ------------------ | ------------------------ | -------------------------------------------------- |
| FOS_Gl_RATE_IMPORT | MST_URL_PATH             | http://www.safe.gov.cn                             |
| FOS_Gl_RATE_IMPORT | URL_PATH                 | http://www.safe.gov.cn/safe/gzhbdmyzslb/index.html |
| FOS_Gl_RATE_IMPORT | SAVE_FILE_PATH           | /GL/gl/rate/                                       |
| FOS_Gl_RATE_IMPORT | BUCKET                   | fcs-data.vip.vip.com                               |
| FOS_Gl_RATE_IMPORT | LOCAL_PATH               | /tmp/                                              |
| FOS_Gl_RATE_IMPORT | RATE_ROUND               | 20                                                 |
| FOS_Gl_RATE_IMPORT | GL_EXCHANGE_IMPORT_FIELD | currency,currencyName,unit,rate                    |




